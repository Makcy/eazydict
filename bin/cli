#!/usr/bin/env node

'use strict';

const program = require('commander');
const pkg = require('../package.json');
const {
  eazydict,
  history
} = require('../index');

/**
 * 主程序
 */
program
  .usage('<words...>')
  .description('简单易用的命令行词典 https://github.com/keenwon/eazydict')
  .version(pkg.version)
  .action(eazydict);

/**
 * 查询
 */
program
  .command('lookup <words...>')
  .alias('l')
  .description('查询 words 的翻译')
  .action(function (words, options) {
    // 与主程序入参保持一致
    eazydict(...words, options);
  });

/**
 * 历史记录
 */
program
  .command('history')
  .alias('h')
  .description('显示最近查询的历史记录')
  .action(history);


program.parse(process.argv);

if (process.argv.length === 2) {
  program.help();
}
